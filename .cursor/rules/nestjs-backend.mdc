# NestJS ë°±ì—”ë“œ ê°œë°œ ê°€ì´ë“œ

## ğŸ—ï¸ ëª¨ë“ˆ êµ¬ì¡°
HairMatch ë°±ì—”ë“œëŠ” ë‹¤ìŒ ëª¨ë“ˆë“¤ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

### ğŸ“¸ ì–¼êµ´í˜• ë¶„ì„ ëª¨ë“ˆ
- **ì»¨íŠ¸ë¡¤ëŸ¬**: [face-analysis.controller.ts](mdc:backend/src/face-analysis/face-analysis.controller.ts)
- **ì„œë¹„ìŠ¤**: [face-analysis.service.ts](mdc:backend/src/face-analysis/face-analysis.service.ts)  
- **ëª¨ë“ˆ**: [face-analysis.module.ts](mdc:backend/src/face-analysis/face-analysis.module.ts)

### ğŸ’¡ ì¶”ì²œ ëª¨ë“ˆ
- **ì»¨íŠ¸ë¡¤ëŸ¬**: [recommendation.controller.ts](mdc:backend/src/recommendation/recommendation.controller.ts)
- **ì„œë¹„ìŠ¤**: [recommendation.service.ts](mdc:backend/src/recommendation/recommendation.service.ts)
- **ëª¨ë“ˆ**: [recommendation.module.ts](mdc:backend/src/recommendation/recommendation.module.ts)

## ğŸ“‹ ì½”ë”© ì»¨ë²¤ì…˜

### API ì—”ë“œí¬ì¸íŠ¸
```typescript
// âœ… ì˜¬ë°”ë¥¸ ë°©ì‹
@Post('analyze')
@ApiOperation({ summary: 'ì–¼êµ´í˜• ë¶„ì„' })
@ApiResponse({ status: 200, description: 'ë¶„ì„ ê²°ê³¼' })
async analyzeFace(@UploadedFile() file: Express.Multer.File) {
  return await this.faceAnalysisService.analyzeFaceShape(file.buffer);
}
```

### ì„œë¹„ìŠ¤ ë©”ì„œë“œ
```typescript
// âœ… ë¹„ë™ê¸° ì²˜ë¦¬ì™€ ì—ëŸ¬ í•¸ë“¤ë§
async analyzeFaceShape(imageBuffer: Buffer): Promise<FaceAnalysisResult> {
  try {
    // ë¶„ì„ ë¡œì§
    return result;
  } catch (error) {
    this.logger.error('ì–¼êµ´í˜• ë¶„ì„ ì‹¤íŒ¨:', error);
    throw new BadRequestException('ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
  }
}
```

### íƒ€ì… ì •ì˜
- ê³µí†µ íƒ€ì…ì€ [backend/src/common/interfaces/](mdc:backend/src/common/interfaces/)ì— ì •ì˜
- DTOëŠ” [backend/src/common/dto/](mdc:backend/src/common/dto/)ì— ì •ì˜
- API ì‘ë‹µì€ ëª…í™•í•œ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©

## ğŸ› ï¸ ì£¼ìš” API

### ì–¼êµ´í˜• ë¶„ì„
```
POST /face-analysis/analyze
Content-Type: multipart/form-data
Body: { image: File }
```

### í—¤ì–´ìŠ¤íƒ€ì¼ ì¶”ì²œ  
```
GET /recommendations/hair-styles
Query: { faceShape: string, gender: 'male'|'female' }
```

### Swagger ë¬¸ì„œ
- ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ëŠ” `@ApiOperation`, `@ApiResponse` ë°ì½”ë ˆì´í„° í•„ìˆ˜
- ê°œë°œ ì¤‘ì—ëŠ” http://localhost:3001/api ì—ì„œ í™•ì¸ ê°€ëŠ¥

## ğŸ”§ ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­
- íŒŒì¼ ì—…ë¡œë“œëŠ” 5MB ì œí•œ
- CORS ì„¤ì •ì€ [main.ts](mdc:backend/src/main.ts)ì—ì„œ ê´€ë¦¬
- í™˜ê²½ë³€ìˆ˜ëŠ” `.env` íŒŒì¼ì—ì„œ ê´€ë¦¬ (PORT, NODE_ENV)
